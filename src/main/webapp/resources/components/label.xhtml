<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:p="http://primefaces.org/ui">

<composite:interface>
    <!--  The default configuration-->
    <composite:attribute name="widgetVar"/>
    <composite:attribute name="value" required="true"/>
    <composite:attribute name="target" required="true"/>
    <composite:attribute name="columns" default="1"/>
    <composite:attribute name="columnClasses" default="ui-g-12 ui-md-12 ui-g-nopad"/>
    <composite:attribute name="margin" default="0"/>
    <composite:attribute name="messageSupport" default="true"/>

    <!-- coustom attrs-->


</composite:interface>


<composite:implementation>
    <style>
        .ui-outputlabel-rfi {
            color: red;
        }

        .ui-label-message {
            background-color: transparent !important;
            border: 0px solid transparent !important;
            color: #a80000 !important;
            padding: 0px !important;
        }
    </style>
    <script>
        PrimeFaces.widgets['#{cc.attrs.widgetVar}'] = {
            show: function () {
                $('#' + '#{cc.clientId}:labelPanel'.replace(/:/g, "\\:")).show();
            },
            hide: function () {
                $('#' + '#{cc.clientId}:labelPanel'.replace(/:/g, "\\:")).hide();
            }
        }
    </script>

    <p:outputPanel id="labelPanel" style="min-width: 450px" styleClass="p-grid p-justify-even">
        <div class="p-col-12 p-md-12 p-lg-2" style="text-align: right;">
            <p:outputLabel for="#{cc.attrs.target}" value="#{cc.attrs.value}"/>
        </div>
        <div class="p-col-12 p-md-12 p-lg-5">
            <h:panelGrid columns="#{cc.attrs.columns}" layout="grid"
                         columnClasses="#{cc.attrs.columnClasses} ">
                <composite:insertChildren/>
            </h:panelGrid>

        </div>
        <div class="p-col-12 p-md-12 p-lg-5">
            <p:message for="#{cc.attrs.target}" rendered="#{cc.attrs.messageSupport}"
                       styleClass="ui-label-message"/>
        </div>
    </p:outputPanel>
</composite:implementation>


</html>
